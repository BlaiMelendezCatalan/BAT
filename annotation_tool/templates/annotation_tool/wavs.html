{% extends 'annotation_tool/base.html' %}

{% block title %}Wavs{% endblock %}

{% block header %}Wavs{% endblock %}

{% block body_block %}

  {% if query_data %}
    <form id='filterParams' class="form-inline">
      {% for filter, values in filters.items %}
        <label style="padding-left: 10px; padding-right: 5px;">{{ filter }}</label>
        <select class="form-control" name="{{ values.name }}" onchange="this.form.submit()" style="width: auto;">
          <option value=""></option>
          {% for choice in values.available %}
            {% if choice == values.selected %}
              <option value="{{ choice }}" selected>{{ choice }}</option>
            {% elif choice == None %}
            {% else %}
              <option value="{{ choice }}">{{ choice }}</option>
            {% endif %}
          {% endfor %}
        </select>
      {% endfor %}
    </form>

    <table class="table table-striped table-bordered sortable" style="width: auto;">
      <tr>
        <th>ID</th>
        <th>Wav name</th>
        <th>Project</th>
        <th>Absolute path</th>
        <th>Upload time</th>
        <th></th>
      </tr>
      {% for wav in query_data %}
        <tr>
          <td>{{ wav.id }}</td>
          <td>{{ wav.name }}</td>
          <td>{{ wav.project.name }}</td>
          <td>{{ wav.file.name }}</td>
          <td>{{ wav.upload_date }}</td>
          <td><button data-delete-url="{% url 'wav' wav.id %}" class="btn btn-danger delete-item"
                      data-toggle="modal" data-target="#delete-modal">Delete
              </button></td>
        </tr>
      {% endfor %}
    </table>
    <p>Displaying {{ query_data|length }} wavs ordered by ID.</p>
    {% include 'annotation_tool/_modal_delete.html' with text='Are you sure you want to delete this wav?' %}
  {% else %}
    <p>No data is available.</p>
  {% endif %}
{% endblock %}